<md-toolbar class="app-header md-primary md-whiteframe-z1" layout="row">
     <div ng-hide="ui.showSearch" class="md-toolbar-tools searchbar-anim" layout="row">
        <div layout="row" flex="30" flex-sm="40" flex-xs="15">
            <div flex layout="row" layout-align="start center">
                <md-button class="md-icon-button no-m" aria-label="Settings" ng-click="ui.toggleNav('left')" md-no-ink hide-gt-sm>
                    <my-icon icon="menu" style="line-height: 0px">
                    </my-icon>
                </md-button>
                <div style="height: 35px; width: 30px" layout="column" class="mr10" hide show-gt-xs>
                    <a layout-fill ui-sref="web.app.dashboard.centered.home">
                        <img style="border-radius: 1px" layout-fill src="dist/img/small-logo.png" alt="Logo | Home">
                    </a>
                </div>
                <div hide show-gt-sm layout="column">
                    <a ui-sref="web.app.dashboard.centered.home"><h2>Testify</h2></a>
                    <span show-gt-md class="md-subhead">sharing God's goodness</span>
                </div>
            </div>
        </div>
        <div style="height: 100%" layout="row" flex="70" flex-sm="60" flex-xs="85">
            <span flex-gt-sm="30" flex-lg="55" flex-md="25" flex="0"></span>

            <div layout="row" flex="35" flex-lg="45" flex-md="45" flex-sm="70" flex-xs="70">
                <div layout="row" flex>
                    <div flex layout="row" layout-align="center center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-button md-no-ink class="no-m" aria-label="Home" ng-click="redirect('web.app.dashboard.centered.home')">
                                <my-icon icon="home">
                                </my-icon>
                            </md-button>
                        </div>
                    </div>
                    <div flex layout="row" ng-if="user.authenticated" layout-align="center center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-button md-no-ink class="no-m" aria-label="More " ng-click="redirect('web.app.dashboard.messages')">
                                <my-icon icon="email-outline">
                                </my-icon>
                                <span ng-if="app.notifications.messages.length" class="badge badge-notification">{{app.notifications.messages.length}}</span>

                            </md-button>
                        </div>
                    </div>
                    <div flex layout="row" ng-if="user.authenticated" layout-align="center center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-button md-no-ink class="no-m" aria-label="More " ng-click="redirect('web.app.dashboard.centered.notifications')">
                                <my-icon icon="earth">
                                </my-icon>
                                <!-- GENERAL NOTIFICATIONS -->
                                <span ng-if="app.notifications.general.length" class="badge badge-notification">{{app.notifications.general.length}}</span>

                            </md-button>
                        </div>
                    </div>
                    <div flex layout="row" layout-align="center center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-button class="no-m" aria-label="search" ng-click="ui.toggleSearchBox()">
                                <my-icon icon="magnify">
                                </my-icon>
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
            <div layout="row" flex="35" flex-lg="10" flex-md="30" flex-sm="30" flex-xs="30">
                <div layout="row" flex>
                    <div flex layout="row" layout-align="end center" style="position: relative;">
                        <div hide-gt-md class="btn-parent flat">
                            <md-button md-no-ink class="no-m" aria-label="Right Sidenav" ng-click="ui.toggleNav('right')">
                                <my-icon icon="sort-variant">
                                </my-icon>
                            </md-button>
                        </div>
                    </div>
                    <div flex layout="row" layout-align="end center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-menu class="no-p">
                                <md-button md-no-ink aria-label="Open Menu" ng-click="openMenu($mdOpenMenu, $event)">
                                    <my-icon icon="dots-vertical"></my-icon>
                                    <span ng-if="app.notifications.friend_requests.length" class="badge badge-notification">{{app.notifications.friend_requests.length}}</span>
                                </md-button>
                                <md-menu-content width="4">
                                    <md-menu-item ng-show="user.authenticated">
                                        <md-button ui-sref="web.app.dashboard.centered.notifications">
                                            <span>
                                              Friend Requests
                                              <span ng-if="app.notifications.friend_requests.length" class="badge badge-notification">{{app.notifications.friend_requests.length}}</span>
                                            </span>

                                        </md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-show="user.authenticated">
                                        <md-button ui-sref="web.app.dashboard.centered.user.edit({id: user.username || user.hash_id})">
                                            Preferences
                                        </md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-hide="user.authenticated">
                                        <md-button ui-sref="web.app.login">
                                            Login
                                        </md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-show="user.authenticated">
                                        <md-button ng-click="logout()">
                                            Logout
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div ng-show="ui.showSearch" class="md-toolbar-tools searchbar-anim" layout="row" layout-align="center center">
        <div style="height: 100%" layout="row" flex="60" flex-sm="70" flex-xs="100">
            <div layout="row" flex="90" flex-xs="85">
                <div flex searchbox></div>
            </div>
            <div layout="row" flex="10" flex-xs="15">
                <div layout="row" flex>
                    <div flex layout="row" layout-align="center center" style="position: relative;">
                        <div class="btn-parent flat">
                            <md-button class="no-m" aria-label="Close search" ng-click="ui.toggleSearchBox()">
                                <my-icon icon="close">
                                </my-icon>
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</md-toolbar>
